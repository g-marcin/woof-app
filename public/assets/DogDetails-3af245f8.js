import{u as h,j as a,d as f,r as o,a as _,c as x,N as v}from"./index-fadfd96d.js";import{h as m}from"./httpClient-df0bb4a1.js";import{s as u}from"./dogError.module-6f44217b.js";const E=()=>{const{t}=h();return a.jsxs("div",{className:u.wrapper,children:[a.jsx("img",{src:f,alt:"search",className:u.icon}),a.jsx("h1",{children:t("headers.unfortunately")}),a.jsxs("p",{children:[t("errors.noBreed1"),a.jsx("br",{}),t("errors.noBreed2")]})]})},N=t=>({imageSrc:t.message,status:t.status,code:t.code}),$=(t="",r="")=>{const[c,g]=o.useState({imageSrc:""}),[d,p]=o.useState(!1),[l,e]=o.useState(!1);return o.useEffect(()=>{p(!0),m.get(`/breed/${t}${(r&&"/")+r}/images/random`).then(i=>{if(!i.data.code)e(!1),g(N(i.data));else throw new Error(`${i.data.code} ${i.data.status}`)}).then(()=>p(!1)).catch(i=>{console.error(i),e(!0)})},[t,r]),{dogDetails:c,isLoading:d,isError:l}},D=t=>t.message,w=t=>{const[r,c]=o.useState([""]),[g,d]=o.useState(!1),[p,l]=o.useState(!1);return o.useEffect(()=>{d(!0),m.get(`/breed/${t}/list`).then(e=>{if(!e.data.code)l(!1),c(D(e.data));else{if(!e.data.status)return;throw new Error(`${e.data.code} ${e.data.status}`)}}).then(()=>d(!1)).catch(e=>{console.error(e),l(!0)})},[t]),{dogVariants:r,isLoading:g,isError:p}},S="_tag_gfjj2_56",L="_close_gfjj2_89",n={"main-wrapper":"_main-wrapper_gfjj2_1","image-wrapper":"_image-wrapper_gfjj2_8","details-avatar":"_details-avatar_gfjj2_15","avatar-description":"_avatar-description_gfjj2_28","description-wrapper":"_description-wrapper_gfjj2_51",tag:S,"tag-active":"_tag-active_gfjj2_70","tags-wrapper":"_tags-wrapper_gfjj2_82",close:L,"loader-wrapper":"_loader-wrapper_gfjj2_93"},y=()=>{const t=_(),{t:r}=h(),{breedName:c,variant:g}=x(),{dogDetails:d,isError:p}=$(c,g),{dogVariants:l}=w(c||"");if(!c)return;const e=s=>(s==null?void 0:s.charAt(0).toLocaleUpperCase())+(s==null?void 0:s.slice(1)),i=({isActive:s})=>s?n["tag-active"]:n.tag;return a.jsx(a.Fragment,{children:p?a.jsx(E,{}):a.jsxs("div",{className:n["main-wrapper"],children:[a.jsxs("div",{className:n["image-wrapper"],children:[a.jsx("img",{src:`${d.imageSrc}`,alt:"dog-image",className:n["details-avatar"],onClick:()=>t(0)}),a.jsx("div",{className:n["avatar-description"],children:r("buttons.clickMe")})]}),a.jsxs("div",{className:n["description-wrapper"],children:[a.jsxs("h1",{children:[e(c),":"]}),a.jsx("p",{children:r("content.dogDescription1")}),a.jsx("p",{children:r("content.dogDescription2")})]}),a.jsxs("h1",{children:[e(c)," ",r("headers.variants")]}),a.jsxs("div",{className:n["tags-wrapper"],children:[l.length===0&&a.jsx("p",{className:n.tag,children:r("content.noVariants")}),l.map(s=>a.jsx(v,{onClick:j=>{j.target.innerHTML===g&&(j.preventDefault(),t(`/search/${c}`))},to:`/search/${c}/${s}`,className:i,children:s},s))]})]})})};export{y as default};
